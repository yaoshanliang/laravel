{"version":3,"sources":["custom.min.js","admin.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["function countChecked(){\"all\"===checkState&&$(\".bulk_action input[name='table_records']\").iCheck(\"check\"),\"none\"===checkState&&$(\".bulk_action input[name='table_records']\").iCheck(\"uncheck\");var e=$(\".bulk_action input[name='table_records']:checked\").length;e?($(\".column-title\").hide(),$(\".bulk-actions\").show(),$(\".action-cnt\").html(e+\" Records Selected\")):($(\".column-title\").show(),$(\".bulk-actions\").hide())}\nvar CURRENT_URL=window.location.href.split(\"?\")[0],$BODY=$(\"body\"),$MENU_TOGGLE=$(\"#menu_toggle\"),$SIDEBAR_MENU=$(\"#sidebar-menu\"),$SIDEBAR_FOOTER=$(\".sidebar-footer\"),$LEFT_COL=$(\".left_col\"),$RIGHT_COL=$(\".right_col\"),$NAV_MENU=$(\".nav_menu\"),$FOOTER=$(\"footer\");$(document).ready(function(){var e=function(){$RIGHT_COL.css(\"min-height\",$(window).height());var e=$BODY.outerHeight(),t=$BODY.hasClass(\"footer_fixed\")?0:$FOOTER.height(),n=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),i=n>e?n:e;i-=$NAV_MENU.height()+t,$RIGHT_COL.css(\"min-height\",i)};$SIDEBAR_MENU.find(\"a\").on(\"click\",function(t){var n=$(this).parent();n.is(\".active\")?(n.removeClass(\"active active-sm\"),$(\"ul:first\",n).slideUp(function(){e()})):(n.parent().is(\".child_menu\")||($SIDEBAR_MENU.find(\"li\").removeClass(\"active active-sm\"),$SIDEBAR_MENU.find(\"li ul\").slideUp()),n.addClass(\"active\"),$(\"ul:first\",n).slideDown(function(){e()}))}),$MENU_TOGGLE.on(\"click\",function(){$BODY.hasClass(\"nav-md\")?($SIDEBAR_MENU.find(\"li.active ul\").hide(),$SIDEBAR_MENU.find(\"li.active\").addClass(\"active-sm\").removeClass(\"active\")):($SIDEBAR_MENU.find(\"li.active-sm ul\").show(),$SIDEBAR_MENU.find(\"li.active-sm\").addClass(\"active\").removeClass(\"active-sm\")),$BODY.toggleClass(\"nav-md nav-sm\"),e()}),\n    $SIDEBAR_MENU.find('a[href=\"'+CURRENT_URL+'\"]').parent(\"li\").addClass(\"current-page\"),\n    $SIDEBAR_MENU.find(\"a\").filter(function(){\n        var sidebar_href = this.href + '/';\n        var current_href = CURRENT_URL + '/';\n        if (current_href.indexOf(sidebar_href) == 0) {\n            return true;\n        }\n        // return this.href==CURRENT_URL\n    }).parent(\"li\").addClass(\"current-page\").parents(\"ul\").slideDown(function(){e()}).parent().addClass(\"active\"),\n    $(window).smartresize(function(){e()}),e(),$.fn.mCustomScrollbar&&$(\".menu_fixed\").mCustomScrollbar({autoHideScrollbar:!0,theme:\"minimal\",mouseWheel:{preventDefault:!0}})}),$(document).ready(function(){$(\".collapse-link\").on(\"click\",function(){var e=$(this).closest(\".x_panel\"),t=$(this).find(\"i\"),n=e.find(\".x_content\");e.attr(\"style\")?n.slideToggle(200,function(){e.removeAttr(\"style\")}):(n.slideToggle(200),e.css(\"height\",\"auto\")),t.toggleClass(\"fa-chevron-up fa-chevron-down\")}),$(\".close-link\").click(function(){var e=$(this).closest(\".x_panel\");e.remove()})}),$(document).ready(function(){$('[data-toggle=\"tooltip\"]').tooltip({container:\"body\"})}),$(\".progress .progress-bar\")[0]&&$(\".progress .progress-bar\").progressbar(),$(document).ready(function(){if($(\".js-switch\")[0]){var e=Array.prototype.slice.call(document.querySelectorAll(\".js-switch\"));e.forEach(function(e){new Switchery(e,{color:\"#26B99A\"})})}}),$(document).ready(function(){$(\"input.flat\")[0]&&$(document).ready(function(){$(\"input.flat\").iCheck({checkboxClass:\"icheckbox_flat-green\",radioClass:\"iradio_flat-green\"})})}),$(\"table input\").on(\"ifChecked\",function(){checkState=\"\",$(this).parent().parent().parent().addClass(\"selected\"),countChecked()}),$(\"table input\").on(\"ifUnchecked\",function(){checkState=\"\",$(this).parent().parent().parent().removeClass(\"selected\"),countChecked()});var checkState=\"\";$(\".bulk_action input\").on(\"ifChecked\",function(){checkState=\"\",$(this).parent().parent().parent().addClass(\"selected\"),countChecked()}),$(\".bulk_action input\").on(\"ifUnchecked\",function(){checkState=\"\",$(this).parent().parent().parent().removeClass(\"selected\"),countChecked()}),$(\".bulk_action input#check-all\").on(\"ifChecked\",function(){checkState=\"all\",countChecked()}),$(\".bulk_action input#check-all\").on(\"ifUnchecked\",function(){checkState=\"none\",countChecked()}),$(document).ready(function(){$(\".expand\").on(\"click\",function(){$(this).next().slideToggle(200),$expand=$(this).find(\">:first-child\"),\"+\"==$expand.text()?$expand.text(\"-\"):$expand.text(\"+\")})}),\"undefined\"!=typeof NProgress&&($(document).ready(function(){NProgress.start()}),$(window).load(function(){NProgress.done()})),function(e,t){var n=function(e,t,n){var i;return function(){function c(){n||e.apply(a,o),i=null}var a=this,o=arguments;i?clearTimeout(i):n&&e.apply(a,o),i=setTimeout(c,t||100)}};jQuery.fn[t]=function(e){return e?this.bind(\"resize\",n(e)):this.trigger(t)}}(jQuery,\"smartresize\");","SUCCESS = 0;\nERROR = 1;\n\n/**\n * 显示操作成功信息\n *\n * @param  string 提示信息, float 显示时间\n * @return null\n */\nfunction showProcessingTip(tip, time){\n    var tip = arguments[0] || '请求中...';\n     var time = arguments[1] || 3;\n     var background = '#337ab7';\n     var bordercolor = '#2e6da4';\n\n    var windowWidth = document.documentElement.clientWidth;\n    var height = 10;\n    var width = 200;\n    var tipsDiv = '<div class=\"tipsClass\">' + tip + '</div>';\n\n    $('body').append(tipsDiv);\n    $('div.tipsClass').css({\n        'z-index': 9999,\n        'top': height + 'px',\n        'min-width': width + 'px',\n        'max-width': '900px',\n        'height': '30px',\n        'left': (windowWidth / 2) - (width / 2) + 'px',\n        'position': 'fixed',\n        'padding': '3px 5px',\n        'background': background,\n        'border': '1px solid transparent',\n        'border-color': bordercolor,\n        'border-radius':'4px',\n        'font-size': 14 + 'px',\n        'margin': '0 auto',\n        'text-align': 'center',\n        'color': '#fff',\n        'opacity': '0.8'\n    }).show();\n}\n\n/**\n * 显示操作成功信息\n *\n * @param  string 提示信息, float 显示时间\n * @return null\n */\nfunction showSuccessTip(tip, time){\n    var tip = arguments[0] || '操作成功';\n    var time = arguments[1] || 3;\n    var background = '#5cb85c';\n    var bordercolor = '#4cae4c';\n\n    showTip(tip, time, background, bordercolor);\n}\n\n/**\n * 显示操作失败信息\n * @param string 提示信息, float 显示时间\n * @return null\n */\nfunction showFailTip(tip, time){\n    var tip = arguments[0] || '操作失败';\n    var time = arguments[1] || 3;\n    var background = '#c9302c';\n    var bordercolor = '#ac2925';\n\n    showTip(tip, time, background, bordercolor);\n}\n\n/**\n * 显示信息，供成功、失败调用\n * @param string 提示信息, float 显示时间, string 背景颜色, string 边框颜色\n * @return null\n */\nfunction showTip(tip, time, background, bordercolor) {\n    var windowWidth = document.documentElement.clientWidth;\n    var height = 10;\n    var width = 200;\n    var tipsDiv = '<div class=\"tipsClass\">' + tip + '</div>';\n\n    $('div.tipsClass').fadeOut();\n    $('div.tipsClass').remove();\n\n    $('body').append(tipsDiv);\n    $('div.tipsClass').css({\n        'z-index': 9999,\n        'top': height + 'px',\n        'min-width': width + 'px',\n        'max-width': '900px',\n        'height': '30px',\n        'left': (windowWidth / 2) - (width / 2) + 'px',\n        'position': 'fixed',\n        'padding': '3px 5px',\n        'background': background,\n        'border': '1px solid transparent',\n        'border-color': bordercolor,\n        'border-radius':'4px',\n        'font-size': 14 + 'px',\n        'margin': '0 auto',\n        'text-align': 'center',\n        'color': '#fff',\n        'opacity': '0.8'\n    }).show();\n    setTimeout(function(){$('div.tipsClass').fadeOut(); $('div.tipsClass').remove()}, (time * 1000));\n}\n\nfunction datatable_base() {\n    if (\"undefined\" == typeof(datatable_default_length)) {\n        datatable_default_length = 10;\n    }\n\n    $.extend( $.fn.dataTable.defaults, {\n        \"dom\":\n        \"<'row'<'col-sm-6'><'col-sm-6'>r>\"+\n        \"t\"+\n        \"<'row'<'pull-left'l><'pull-left'i><'col-sm-7 pull-right'p>>\",\n        \"pagingType\": \"full_numbers\",\n        \"iDisplayLength\": datatable_default_length,\n        \"lengthMenu\": [[datatable_default_length, 20, 100], [datatable_default_length, 20, 100]],\n        \"language\": {\n            \"processing\" : \"<img src=\" + siteUrl + \"/admin-assets/images/loading.gif>\",\n            \"lengthMenu\": \"每页 _MENU_ 条 \",\n            \"zeroRecords\": \"没有找到记录\",\n            \"info\": \"，共 _PAGES_ 页，共 _TOTAL_ 条\",\n            \"infoEmpty\": \"无记录\",\n            \"infoFiltered\": \"(从 _MAX_ 条记录过滤)\",\n            \"search\":\"搜索：\",\n            \"loadingRecords\": \"载入中...\",\n            \"paginate\":{\n                \"first\":\"首页\",\n                \"previous\":\"上一页\",\n                \"next\":\"下一页\",\n                \"last\":\"尾页\"\n            }\n        },\n        \"processing\": true,\n        \"serverSide\": true,\n        \"responsive\": true,\n        'stateSave': false\n    } );\n}\n\nif(typeof(datatable_id) != \"undefined\") {\n    var table;\n    $(document).ready(function() {\n        datatable_base();\n        table = $('#' + datatable_id).DataTable({\n            \"sServerMethod\": \"POST\",\n            \"columnDefs\": [{\n                \"orderable\": false,// 禁用排序列\n                \"targets\": columnDefsTargets\n            }, {\n                \"visible\": false,// 隐藏列\n                \"targets\": invisibleColumns\n            }],\n            //默认排序列\n            \"order\": order,\n            \"ajax\": {\n                \"url\": ajaxUrl,\n                \"type\": 'GET',\n                \"dataType\": 'json',\n                \"headers\": {\n                    'X-CSRF-TOKEN': $('input[name=\"_token\"]').val()\n                },\n            },\n            \"columns\": columns,\n            \"initComplete\": initComplete,\n            \"fnDrawCallback\": function(table){\n                $(\".dataTables_paginate\").prepend(\" \" +\n                    \"<div style='float:right;margin-top: 5px;'>&nbsp;跳转至第 <input type='text' id='changePage' class='input-text' style='width:50px;height:27px;border-radius: 5px;border: 1px solid #ccc;'> 页 \" +\n                    \"<button class='paginate_button' id='goto' style='border-radius: 5px;border: 1px solid #ccc; background: #fafafa !important'>跳转</button></div>\");\n                var oTable = $('#' + datatable_id).dataTable();\n                var tableSetings=$('#' + datatable_id).dataTable().fnSettings();\n                var paging_length=tableSetings._iDisplayLength;//当前每页显示多少\n                var page_start=tableSetings._iDisplayStart;//当前页开始\n                var n1 = Math.round(page_start); //四舍五入\n                var n2 = Math.round(paging_length); //四舍五入\n\n                var rslt = n1 / n2; //除\n                if (rslt >= 0) {\n                    rslt = Math.floor(rslt); //返回小于等于原rslt的最大整数。\n                }\n                else {\n                    rslt = Math.ceil(rslt); //返回大于等于原rslt的最小整数。\n                }\n\n                $('#goto').click(function(e) {\n                    //$('#changePage').keyup(function(e) {\n                    if($(\"#changePage\").val() && $(\"#changePage\").val() > 0) {\n                        var redirectpage = $(\"#changePage\").val() - 1;\n                    } else {\n                        var redirectpage = 0;\n                    }\n                    oTable.fnPageChange(redirectpage);\n                });\n                $('#changePage').val(rslt + 1);\n            }\n        });\n    });\n}\n\nfunction initComplete() {\n    // table.state.clear();\n    $(\"#search\").on('keyup', function () {\n        table.search(this.value)\n            .draw();\n    });\n\n    // 全选反选\n    $(\"#check_all\").click(function() {\n        $('input[name=\"checkbox_id\"]').prop(\"checked\",this.checked);\n    });\n    var $subBox = $(\"input[name='checkbox_id']\");\n    $subBox.click(function(){\n        $(\"#check_all\").prop(\"checked\", $subBox.length == $subBox.filter(\":checked\").length ? true :false);\n    });\n}\n\n// 提示框\nfunction alertModal(function_name, function_params, alert_message) {\n    $('#alert_modal_confirm').one(\"click\", function () {\n        $('#alert_modal').modal('hide');\n        function_name(function_params);\n    });\n    var alert_message = arguments[2] || '确定吗?';\n    $('#alert_message').text(alert_message);\n    $('#alert_modal').modal('show');\n}\n\n// 警告框\nfunction warningModal(function_name, function_params, warning_title, warning_message) {\n    $('#warning_modal_confirm').one(\"click\", function () {\n        $('#warning_modal').modal('hide');\n        function_name(function_params);\n    });\n    $('#warning_title').text(warning_title);\n    $('#warning_message').html(warning_message);\n    $('#warning_modal').modal('show');\n}\n\n// ajax\nfunction ajax(url, method, data, successCallback) {\n    $.ajax({\n        url:  url,\n        type: method,\n        dataType: 'json',\n        data: data,\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n        },\n        beforeSend: function (data) {\n            showProcessingTip();\n        },\n        success: function(data) {\n            if(data['code'] === SUCCESS) {\n                showSuccessTip(data['message']);\n                if (\"undefined\" != typeof(datatable_id)) {\n                    $('#' + datatable_id).DataTable().draw(false);\n                }\n\n                if (\"function\" == typeof(successCallback)) {\n                    successCallback();\n                }\n            } else {\n                showFailTip(data['message']);\n            }\n        },\n        error: function(data) {\n            console.log(data);\n            showFailTip(data.responseJSON.message);\n        }\n    });\n\n}\n"]}